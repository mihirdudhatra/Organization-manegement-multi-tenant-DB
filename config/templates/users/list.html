{% extends "base/base.html" %}
{% block title %}Users{% endblock %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Users</h2>
    <a href="{% url 'user-create' %}" class="btn btn-primary"><i class="fas fa-plus"></i> Create User</a>
</div>

{% if users %}
<div class="table-responsive">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Role</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>
                    <span class="badge 
                        {% if user.role == 'ADMIN' %}bg-danger
                        {% elif user.role == 'MANAGER' %}bg-warning
                        {% else %}bg-secondary{% endif %}">
                        {{ user.get_role_display }}
                    </span>
                </td>
                <td>
                    {% if user.id %}
                    <a href="{% url 'user-update' user.id %}" class="btn btn-outline-secondary btn-sm">Edit</a>
                    <a href="{% url 'user-delete' user.id %}" class="btn btn-outline-danger btn-sm ms-1">Delete</a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="alert alert-info">No users found. <a href="{% url 'user-create' %}">Create one</a></div>
{% endif %}

<a href="{% url 'project-list' %}">‚Üê Back to Projects</a>

{% endblock %}`