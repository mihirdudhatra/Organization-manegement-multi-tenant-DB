{% extends "base/base.html" %}
{% block content %}

<h2>Update User</h2>

<form method="post">
    {% csrf_token %}

    <label for="username">Username:</label>
    <input
            type="text"
            id="username"
            name="username"
            value="{{ user.username }}"
            {% if current_role not in "ADMIN MANAGER" %}disabled{% endif %}
    ><br><br>

    <label for="email">Email:</label>
    <input
            type="email"
            id="email"
            name="email"
            value="{{ user.email }}"
            {% if current_role not in "ADMIN MANAGER" %}disabled{% endif %}
    ><br><br>

    {% if current_role == "ADMIN" %}
    <label for="password">Password:</label>
    <input type="password" id="password" name="password"><br><br>

    <label for="role">Role:</label>
    <select id="role" name="role">
        <option value="MEMBER" {% if user.role == "MEMBER" %}selected{% endif %}>Member</option>
        <option value="MANAGER" {% if user.role == "MANAGER" %}selected{% endif %}>Manager</option>
        <option value="ADMIN" {% if user.role == "ADMIN" %}selected{% endif %}>Admin</option>
    </select><br><br>
    {% endif %}

    <button type="submit">Update</button>
</form>

{% if error %}
<p style="color: red;">Error: {{ error }}</p>
{% endif %}

<a href="{% url 'user-list' %}">‚Üê Back to Users</a>

{% endblock %}
